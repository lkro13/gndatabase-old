function numtostr(number){
switch(number){
    case "01": return "albedo";
    case "02": return "aloy";
    case "03": return "amber";
    case "04": return "ayaka";
    case "05": return "barbara";
    case "06": return "beidou";
    case "07": return "bennett";
    case "08": return "chongyun";
    case "09": return "diluc";
    case "10": return "diona";
    case "11": return "eula";
    case "12": return "fischl";
    case "13": return "ganyu";
    case "14": return "hu tao";
    case "15": return "jean";
    case "16": return "kaeya";
    case "17": return "kazuha";
    case "18": return "keqing";
    case "19": return "klee";
    case "20": return "kokomi";
    case "21": return "lisa";
    case "22": return "mona";
    case "23": return "ningguang";
    case "24": return "noelle";
    case "25": return "qiqi";
    case "26": return "raiden";
    case "27": return "razor";
    case "28": return "rosaria";
    case "29": return "sara";
    case "30": return "sayu";
    case "31": return "sucrose";
    case "32": return "tartaglia";
    case "33": return "thoma";
    case "34": return "traveler";
    case "35": return "venti";
    case "36": return "xiangling";
    case "37": return "xiao";
    case "38": return "xingqiu";
    case "39": return "xinyan";
    case "40": return "yanfei";
    case "41": return "yoimiya";
    case "42": return "zhongli";
    case "43": return "itto";
    case "44": return "gorou";
    case "45": return "shenhe";
    case "46": return "yunjin";
}
}
function numtostrw(hex){
    switch(hex){
        case "01": return "AlleyHunter";
        case "02": return "AmenomaKageuchi";
        case "03": return "AmosBow";
        case "04": return "ApprenticeNotes";
        case "05": return "AquilaFavonia";
        case "06": return "BeginnerProtector";
        case "07": return "BlackcliffAgate";
        case "08": return "BlackcliffLongsword";
        case "09": return "BlackcliffPole";
        case "0a": return "BlackcliffSlasher";
        case "0b": return "BlackcliffWarbow";
        case "0c": return "BlackTassel";
        case "0d": return "BloodtaintedGreatsword";
        case "0e": return "CompoundBow";
        case "0f": return "CoolSteel";
        case "10": return "CrescentPike";
        case "11": return "DarkIronSword";
        case "12": return "Deathmatch";
        case "13": return "DebateClub";
        case "14": return "DodocoTales";
        case "15": return "DragonBane";
        case "16": return "DragonspineSpear";
        case "17": return "DullBlade";
        case "18": return "EbonyBow";
        case "19": return "ElegyfortheEnd";
        case "1a": return "EmeraldOrb";
        case "1b": return "EngulfingLightning";
        case "1c": return "EverlastingMoonglow";
        case "1d": return "EyeofPerception";
        case "1e": return "FavoniusCodex";
        case "1f": return "FavoniusGreatsword";
        case "20": return "FavoniusLance";
        case "21": return "FavoniusSword";
        case "22": return "FavoniusWarbow";
        case "23": return "FerrousShadow";
        case "24": return "FesteringDesire";
        case "25": return "FilletBlade";
        case "26": return "FreedomSworn";
        case "27": return "Frostbearer";
        case "28": return "HakushinRing";
        case "29": return "Halberd";
        case "2a": return "Hamayumi";
        case "2b": return "HarbingerofDawn";
        case "2c": return "HunterBow";
        case "2d": return "IronPoint";
        case "2e": return "IronSting";
        case "2f": return "KatsuragikiriNagamasa";
        case "30": return "KitainCrossSpear";
        case "31": return "LionRoar";
        case "32": return "LithicBlade";
        case "33": return "LithicSpear";
        case "34": return "LostPrayertotheSacredWinds";
        case "35": return "LuxuriousSeaLord";
        case "36": return "MagicGuide";
        case "37": return "MappaMare";
        case "38": return "MemoryofDust";
        case "39": return "Messenger";
        case "3a": return "MistsplitterReforged";
        case "3b": return "MitternachtsWaltz";
        case "3c": return "OldMercPal";
        case "3d": return "OtherworldlyStory";
        case "3e": return "PocketGrimoire";
        case "3f": return "Predator";
        case "40": return "PrimordialJadeCutter";
        case "41": return "PrimordialJadeWingedSpear";
        case "42": return "PrototypeAmber";
        case "43": return "PrototypeArchaic";
        case "44": return "PrototypeCrescent";
        case "45": return "PrototypeRancour";
        case "46": return "PrototypeStarglitter";
        case "47": return "Rainslasher";
        case "48": return "RavenBow";
        case "49": return "RecurveBow";
        case "4a": return "RoyalBow";
        case "4b": return "RoyalGreatsword";
        case "4c": return "RoyalGrimoire";
        case "4d": return "RoyalLongsword";
        case "4e": return "RoyalSpear";
        case "4f": return "Rust";
        case "50": return "SacrificialBow";
        case "51": return "SacrificialFragments";
        case "52": return "SacrificialGreatsword";
        case "53": return "SacrificialSword";
        case "54": return "SeasonedHunterBow";
        case "55": return "SerpentSpine";
        case "56": return "SharpshooterOath";
        case "57": return "SilverSword";
        case "58": return "SkyriderGreatsword";
        case "59": return "SkyriderSword";
        case "5a": return "SkywardAtlas";
        case "5b": return "SkywardBlade";
        case "5c": return "SkywardHarp";
        case "5d": return "SkywardPride";
        case "5e": return "SkywardSpine";
        case "5f": return "Slingshot";
        case "60": return "SnowTombedStarsilver";
        case "61": return "SolarPearl";
        case "62": return "SongofBrokenPines";
        case "63": return "StaffofHoma";
        case "64": return "SummitShaper";
        case "65": return "SwordofDescension";
        case "66": return "TheAlleyFlash";
        case "67": return "TheBell";
        case "68": return "TheBlackSword";
        case "69": return "TheCatch";
        case "6a": return "TheFlute";
        case "6b": return "TheStringless";
        case "6c": return "TheUnforged";
        case "6d": return "TheViridescentHunt";
        case "6e": return "TheWidsith";
        case "6f": return "ThrillingTalesofDragonSlayers";
        case "70": return "ThunderingPulse";
        case "71": return "TravelerHandySword";
        case "72": return "TwinNephrite";
        case "73": return "VortexVanquisher";
        case "74": return "WasterGreatsword";
        case "75": return "Whiteblind";
        case "76": return "WhiteIronGreatsword";
        case "77": return "WhiteTassel";
        case "78": return "WindblumeOde";
        case "79": return "WineandSong";
        case "7a": return "WolfGravestone";
        case "7b": return "MouunMoon";
        case "7c": return "PolarStar";
        case "7d": return "WavebreakerFin";
        case "7e": return "Akuoumaru";
        case "7f": return "RedhornStonethresher"
        case "80": return "CinnabarSpindle"
        case "81": return "CalamityQueller"
    
    }
}
var selectcharacter,selectwea,prename
function importcha() {
    var imp = window.location.href
    var imps = imp.search("import=")
    var imports = imp.slice(imps+7,imps+8)
    var view = imp.search("viewonly=")
    var views = imp.slice(view+9,view+10)
    selectcharacter = imp.slice(imp.search("cha")+3,imp.search("wea"))
    selectwea = imp.slice(imp.search("wea")+3,imp.length)
    prename = imp.slice(imp.search("name=")+5,imp.search(";cha"))
    console.log(prename)
    if(imports == 1 && views == 0){
      document.getElementById('import').style.display='block'
    }else if(imports == 0 && views == 1){
        viewonly(selectcharacter,selectwea,prename)
    }else{
      alert("invalid link")
    }
  }
function conimport(linkcha,linkwea){
    viewonly(linkcha,linkwea,prename)
    var cha = searchall("&",linkcha)
    var wea = searchall("&",linkwea)
    var time = 11
    for (let step = 0; step < cha.length; step++) {
        var cah = numtostr(linkcha.slice(cha[step]+1,cha[step]+3))
        document.cookie= cah+"=1"
    }
    for (let step = 0; step < wea.length; step++) {
        var cah = numtostrw(linkwea.slice(wea[step]+1,wea[step]+3))
        document.cookie= cah+"=2"
    }
    document.getElementById("previews").innerText="Import success! Redirect in 10 seconds"
    document.getElementById("previews").style.backgroundColor="#04AA6D"
    document.getElementById("previews").style.color="#ffffff"
    prv()
    setInterval(function(){ 
        time = time - 1
        document.getElementById("previews").innerText="Import success! Redirect in "+time+" seconds" 
    }, 1000);
    setTimeout(function(){window.location.href = "/";},11000);
}
function viewonly(linkcha,linkwea,names){
    var cha = searchall("&",linkcha)
    var wea = searchall("&",linkwea)
    var namu = document.getElementById("text")
    namu.innerText="You are currently viewing "+decodeURI(names)+"."
    namu.classList.remove("hidea")
    for (let step = 0; step < cha.length; step++) {
        var cah = numtostr(linkcha.slice(cha[step]+1,cha[step]+3))
        characterimagev(cah,"character")
    }
    for (let step = 0; step < wea.length; step++) {
        var cah = numtostrw(linkwea.slice(wea[step]+1,wea[step]+3))
        weaponimagev(cah,"weapon")
    }

}

function searchall(searchStr, str, caseSensitive) {
    var searchStrLen = searchStr.length;
    if (searchStrLen == 0) {
        return [];
    }
    var startIndex = 0, index, indices = [];
    if (!caseSensitive) {
        str = str.toLowerCase();
        searchStr = searchStr.toLowerCase();
    }
    while ((index = str.indexOf(searchStr, startIndex)) > -1) {
        indices.push(index);
        startIndex = index + searchStrLen;
    }
    return indices;
}

function removeandload(){
    var cookies = listCookies()
    var i = 0
    for (i = 0; i < cookies.length; i++) {
        var name = getCookie(cookies[i])
        if(name == '1' || name == "2"){
        document.cookie= cookies[i]+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"
        }
    }
    conimport(selectcharacter,selectwea)
}

function removeprv(){
    document.getElementById("character").innerHTML=" "
    document.getElementById("weapon").innerHTML=" "
}